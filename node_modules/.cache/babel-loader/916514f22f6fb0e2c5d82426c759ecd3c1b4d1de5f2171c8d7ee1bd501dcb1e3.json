{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dbana\\\\crittertrack-frontend-app\\\\src\\\\app.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { LogOut, Cat, UserPlus, LogIn, ChevronLeft } from 'lucide-react';\n\n// --- Global Constants ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = '/api'; // Proxied to http://localhost:8080 by package.json\n\n// --- Define Custom Colors as Exact Hex Codes ---\nconst BG_PINK_HEX = '#FFDEE9'; // Pink background\nconst ACCENT_BLUE_HEX = '#A4E2F1'; // Light Blue for buttons/primary color\nconst HOT_PINK_HEX = '#D37197'; // Hot Pink for the registration link\n\n// --- Helper Components ---\n\n// Simple message box to replace alerts and confirmation prompts\nconst ModalMessage = ({\n  title,\n  message,\n  onClose\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-bold text-gray-800 mb-3\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 mb-6\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose\n      // Using a standard Tailwind blue for contrast on the modal itself\n      ,\n      className: \"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 rounded-lg transition duration-150 shadow-md\",\n      children: \"Close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 3\n}, this);\n\n// --- 1. Authentication/Registration Components ---\n_c = ModalMessage;\nconst AuthForm = ({\n  isRegister,\n  setToken,\n  setIsRegisterView,\n  setShowModal,\n  setModalMessage\n}) => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [personalName, setPersonalName] = useState('');\n  const [breederName, setBreederName] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    const endpoint = isRegister ? `${API_BASE_URL}/users/register` : `${API_BASE_URL}/users/login`;\n    const data = isRegister ? {\n      email,\n      password,\n      personalName,\n      breederName,\n      showBreederName: !!breederName\n    } : {\n      email,\n      password\n    };\n    try {\n      const response = await axios.post(endpoint, data);\n      if (isRegister) {\n        // Registration successful logic\n        setModalMessage({\n          title: 'Registration Successful!',\n          message: 'Your account has been created. Please log in now to access your dashboard.'\n        });\n        setShowModal(true);\n        // Clear form and switch back to Login view\n        setEmail('');\n        setPassword('');\n        setPersonalName('');\n        setBreederName('');\n        setIsRegisterView(false); // Switch to login view after registration\n      } else {\n        var _response$data;\n        // Login successful logic\n        const token = (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.token; // Added optional chaining for safer access\n        if (token) {\n          localStorage.setItem('userToken', token);\n          setToken(token); // This is the line that triggers the dashboard view!\n          // Clear credentials after success\n          setEmail('');\n          setPassword('');\n        } else {\n          // Handle unexpected successful response without token\n          throw new Error(\"Login succeeded but no token was returned by the server. Check backend response format.\");\n        }\n      }\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data;\n      console.error('Auth Error:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err);\n      // Fallback message for network or unexpected error\n      const message = ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'A network error occurred or the backend is unreachable.';\n      setModalMessage({\n        title: isRegister ? 'Registration Failed' : 'Login Failed',\n        message: message\n      });\n      setShowModal(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-md bg-white p-8 rounded-xl shadow-2xl border border-indigo-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-extrabold text-gray-800 text-center mb-6\",\n      children: isRegister ? 'Register Account' : 'Sign In'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true,\n        className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true,\n        className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), isRegister && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Your Personal Name\",\n          value: personalName,\n          onChange: e => setPersonalName(e.target.value),\n          required: true,\n          className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Breeder Name (Optional)\",\n          value: breederName,\n          onChange: e => setBreederName(e.target.value),\n          className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading\n        // Button uses the light blue accent color and dark text for contrast\n        ,\n        className: `w-full text-gray-800 font-bold py-2.5 rounded-lg transition duration-150 shadow-md disabled:opacity-50 flex items-center justify-center hover:shadow-lg`,\n        style: {\n          backgroundColor: ACCENT_BLUE_HEX\n        },\n        children: loading ? /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"animate-spin h-5 w-5 mr-3 text-gray-800\",\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            className: \"opacity-25\",\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            stroke: \"currentColor\",\n            strokeWidth: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            className: \"opacity-75\",\n            fill: \"currentColor\",\n            d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [isRegister ? /*#__PURE__*/_jsxDEV(UserPlus, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(LogIn, {\n            size: 18,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 71\n          }, this), isRegister ? 'Create Account' : 'Sign In']\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n// --- 2. Dashboard Component (Placeholder) ---\n_s(AuthForm, \"/gYWiY4U68QnV21P+l5vDOW2YxM=\");\n_c2 = AuthForm;\nconst Dashboard = ({\n  onLogout\n}) => {\n  _s2();\n  // This will eventually fetch and display user's animals and litters\n  const [view, setView] = useState('list'); // 'list' or 'add'\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const token = localStorage.getItem('userToken');\n  useEffect(() => {\n    // This is the protected fetch that requires the token.\n    const fetchUserData = async () => {\n      if (!token) {\n        setError(\"Missing authentication token.\");\n        setLoading(false);\n        return;\n      }\n      try {\n        setLoading(true);\n        // We are using /api/animals now, which is a protected route.\n        const response = await axios.get(`${API_BASE_URL}/animals`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setData(response.data); // This data will be the list of animals\n        setError(null);\n      } catch (err) {\n        var _err$response3, _err$response4;\n        console.error(\"Dashboard Fetch Error:\", ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data) || err);\n        if (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.status) === 401) {\n          setError(\"Session expired or token invalid. Please log in again.\");\n          onLogout();\n        } else {\n          var _err$response5, _err$response5$data;\n          // Note: If the database is empty, /api/animals might return an empty array, which is fine.\n          // This error is for unexpected status codes or network issues.\n          setError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || 'Failed to load dashboard data.');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUserData();\n  }, [token, onLogout]); // Re-fetch if token changes\n\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center p-8\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xl text-indigo-500\",\n      children: \"Loading Dashboard...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 56\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-red-100 border border-red-400 text-red-700 p-4 rounded-lg shadow-md max-w-lg mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-bold\",\n      children: \"Error Loading Data:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onLogout,\n      className: \"mt-4 flex items-center text-sm bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-full transition duration-150 shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(LogOut, {\n        size: 16,\n        className: \"mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), \" Force Log Out\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-6xl p-6 bg-white rounded-xl shadow-2xl border border-indigo-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center border-b pb-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-800 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Cat, {\n          size: 24,\n          className: \"mr-3 text-indigo-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), \"My Critter Registry\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onLogout,\n        className: \"flex items-center text-sm bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-full transition duration-150 shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(LogOut, {\n          size: 16,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), \" Log Out\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500 mb-6\",\n      children: \"Welcome! You are successfully connected to the backend API.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-semibold text-indigo-600 mb-4\",\n        children: [data === null || data === void 0 ? void 0 : data.length, \" Animals Registered (Placeholder Data)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-3\",\n        children: data && data.length > 0 ? data.map(animal => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"bg-gray-50 p-3 rounded-lg border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: animal.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-500 ml-3\",\n            children: [\"(\", animal.gender, \", ID: \", animal.id_public, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 17\n          }, this)]\n        }, animal._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 italic\",\n          children: \"You haven't added any animals yet. Time to register your first critter!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n};\n\n// --- 3. Main App Component (Routing and State) ---\n_s2(Dashboard, \"tNLWMUmtbNMQKDMZib670qTNehQ=\");\n_c3 = Dashboard;\nconst App = () => {\n  _s3();\n  const [userToken, setUserToken] = useState(localStorage.getItem('userToken'));\n  // Use state to track the current view between login/register\n  const [isRegisterView, setIsRegisterView] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [modalMessage, setModalMessage] = useState({\n    title: '',\n    message: ''\n  });\n\n  // Handle token setting (used by AuthForm on successful login)\n  const handleSetToken = token => {\n    setUserToken(token);\n    // When the token is set, it automatically triggers the Dashboard view\n  };\n\n  // Handle logout\n  const handleLogout = () => {\n    localStorage.removeItem('userToken');\n    setUserToken(null);\n    setIsRegisterView(false); // Default to login view after logout\n  };\n  const renderAuthContent = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center\",\n    children: [isRegisterView ? /*#__PURE__*/_jsxDEV(AuthForm, {\n      isRegister: true,\n      setToken: handleSetToken,\n      setIsRegisterView: setIsRegisterView // Pass setter to switch to login on success\n      ,\n      setShowModal: setShowModal,\n      setModalMessage: setModalMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(AuthForm, {\n      isRegister: false,\n      setToken: handleSetToken,\n      setIsRegisterView: setIsRegisterView,\n      setShowModal: setShowModal,\n      setModalMessage: setModalMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsRegisterView(!isRegisterView)\n      // Hot Pink Text Color for contrast\n      ,\n      className: \"mt-4 text-sm font-medium flex items-center hover:text-pink-700 transition duration-150\",\n      style: {\n        color: HOT_PINK_HEX\n      },\n      children: isRegisterView ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n          size: 16,\n          className: \"mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), \" Back to Login\"]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n          size: 16,\n          className: \"mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this), \" Need an Account? Register Here\"]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 5\n  }, this);\n  return (\n    /*#__PURE__*/\n    // Exact Pink Background\n    _jsxDEV(\"div\", {\n      className: \"min-h-screen p-6 flex flex-col items-center\",\n      style: {\n        backgroundColor: BG_PINK_HEX\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"py-8 w-full max-w-6xl text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/crittertrack-logo-new.png\",\n          alt: \"CritterTrack Pedigree App Logo\",\n          className: \"mx-auto h-16 sm:h-20 mb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-500 mt-2\",\n          children: userToken ? 'Welcome back!' : 'Please sign in or register to continue.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-grow p-4 w-full flex justify-center\",\n        children: userToken ? /*#__PURE__*/_jsxDEV(Dashboard, {\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this) : renderAuthContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"py-4 text-sm text-gray-400 w-full text-center\",\n        children: \"\\xA9 2024 CritterTrack Development\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 7\n      }, this), showModal && /*#__PURE__*/_jsxDEV(ModalMessage, {\n        title: modalMessage.title,\n        message: modalMessage.message,\n        onClose: () => setShowModal(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 5\n    }, this)\n  );\n};\n_s3(App, \"Y/1h+AspzFca9G6ted/mvvLL1Yo=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"ModalMessage\");\n$RefreshReg$(_c2, \"AuthForm\");\n$RefreshReg$(_c3, \"Dashboard\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","LogOut","Cat","UserPlus","LogIn","ChevronLeft","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","BG_PINK_HEX","ACCENT_BLUE_HEX","HOT_PINK_HEX","ModalMessage","title","message","onClose","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","AuthForm","isRegister","setToken","setIsRegisterView","setShowModal","setModalMessage","_s","email","setEmail","password","setPassword","personalName","setPersonalName","breederName","setBreederName","loading","setLoading","handleSubmit","e","preventDefault","endpoint","data","showBreederName","response","post","_response$data","token","localStorage","setItem","Error","err","_err$response","_err$response2","_err$response2$data","console","error","onSubmit","type","placeholder","value","onChange","target","required","disabled","style","backgroundColor","viewBox","cx","cy","r","stroke","strokeWidth","fill","d","size","_c2","Dashboard","onLogout","_s2","view","setView","setData","setError","getItem","fetchUserData","get","headers","Authorization","_err$response3","_err$response4","status","_err$response5","_err$response5$data","length","map","animal","name","gender","id_public","_id","_c3","App","_s3","userToken","setUserToken","isRegisterView","showModal","modalMessage","handleSetToken","handleLogout","removeItem","renderAuthContent","color","src","alt","_c4","$RefreshReg$"],"sources":["C:/Users/dbana/crittertrack-frontend-app/src/app.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { LogOut, Cat, UserPlus, LogIn, ChevronLeft } from 'lucide-react';\r\n\r\n// --- Global Constants ---\r\nconst API_BASE_URL = '/api'; // Proxied to http://localhost:8080 by package.json\r\n\r\n// --- Define Custom Colors as Exact Hex Codes ---\r\nconst BG_PINK_HEX = '#FFDEE9'; // Pink background\r\nconst ACCENT_BLUE_HEX = '#A4E2F1'; // Light Blue for buttons/primary color\r\nconst HOT_PINK_HEX = '#D37197'; // Hot Pink for the registration link\r\n\r\n// --- Helper Components ---\r\n\r\n// Simple message box to replace alerts and confirmation prompts\r\nconst ModalMessage = ({ title, message, onClose }) => (\r\n  <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50\">\r\n    <div className=\"bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm\">\r\n      <h3 className=\"text-xl font-bold text-gray-800 mb-3\">{title}</h3>\r\n      <p className=\"text-gray-600 mb-6\">{message}</p>\r\n      <button \r\n        onClick={onClose} \r\n        // Using a standard Tailwind blue for contrast on the modal itself\r\n        className=\"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 rounded-lg transition duration-150 shadow-md\"\r\n      >\r\n        Close\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// --- 1. Authentication/Registration Components ---\r\n\r\nconst AuthForm = ({ isRegister, setToken, setIsRegisterView, setShowModal, setModalMessage }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [personalName, setPersonalName] = useState('');\r\n  const [breederName, setBreederName] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    const endpoint = isRegister ? `${API_BASE_URL}/users/register` : `${API_BASE_URL}/users/login`;\r\n    const data = isRegister \r\n      ? { email, password, personalName, breederName, showBreederName: !!breederName }\r\n      : { email, password };\r\n\r\n    try {\r\n      const response = await axios.post(endpoint, data);\r\n      \r\n      if (isRegister) {\r\n        // Registration successful logic\r\n        setModalMessage({ \r\n          title: 'Registration Successful!', \r\n          message: 'Your account has been created. Please log in now to access your dashboard.' \r\n        });\r\n        setShowModal(true);\r\n        // Clear form and switch back to Login view\r\n        setEmail('');\r\n        setPassword('');\r\n        setPersonalName('');\r\n        setBreederName('');\r\n        setIsRegisterView(false); // Switch to login view after registration\r\n        \r\n      } else {\r\n        // Login successful logic\r\n        const token = response.data?.token; // Added optional chaining for safer access\r\n        if (token) {\r\n            localStorage.setItem('userToken', token);\r\n            setToken(token); // This is the line that triggers the dashboard view!\r\n            // Clear credentials after success\r\n            setEmail('');\r\n            setPassword('');\r\n        } else {\r\n             // Handle unexpected successful response without token\r\n             throw new Error(\"Login succeeded but no token was returned by the server. Check backend response format.\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Auth Error:', err.response?.data || err);\r\n      // Fallback message for network or unexpected error\r\n      const message = err.response?.data?.message || 'A network error occurred or the backend is unreachable.';\r\n      \r\n      setModalMessage({ \r\n        title: isRegister ? 'Registration Failed' : 'Login Failed', \r\n        message: message \r\n      });\r\n      setShowModal(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-md bg-white p-8 rounded-xl shadow-2xl border border-indigo-100\">\r\n      <h2 className=\"text-3xl font-extrabold text-gray-800 text-center mb-6\">\r\n        {isRegister ? 'Register Account' : 'Sign In'}\r\n      </h2>\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <input \r\n          type=\"email\" \r\n          placeholder=\"Email\" \r\n          value={email} \r\n          onChange={(e) => setEmail(e.target.value)} \r\n          required \r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\r\n        />\r\n        <input \r\n          type=\"password\" \r\n          placeholder=\"Password\" \r\n          value={password} \r\n          onChange={(e) => setPassword(e.target.value)} \r\n          required \r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\r\n        />\r\n\r\n        {isRegister && (\r\n          <>\r\n            <input \r\n              type=\"text\" \r\n              placeholder=\"Your Personal Name\" \r\n              value={personalName} \r\n              onChange={(e) => setPersonalName(e.target.value)} \r\n              required \r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\r\n            />\r\n            <input \r\n              type=\"text\" \r\n              placeholder=\"Breeder Name (Optional)\" \r\n              value={breederName} \r\n              onChange={(e) => setBreederName(e.target.value)} \r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\r\n            />\r\n          </>\r\n        )}\r\n\r\n        <button \r\n          type=\"submit\" \r\n          disabled={loading}\r\n          // Button uses the light blue accent color and dark text for contrast\r\n          className={`w-full text-gray-800 font-bold py-2.5 rounded-lg transition duration-150 shadow-md disabled:opacity-50 flex items-center justify-center hover:shadow-lg`}\r\n          style={{ backgroundColor: ACCENT_BLUE_HEX }}\r\n        >\r\n          {loading ? (\r\n            <svg className=\"animate-spin h-5 w-5 mr-3 text-gray-800\" viewBox=\"0 0 24 24\">\r\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n            </svg>\r\n          ) : (\r\n            <>\r\n              {isRegister ? <UserPlus size={18} className=\"mr-2\" /> : <LogIn size={18} className=\"mr-2\" />}\r\n              {isRegister ? 'Create Account' : 'Sign In'}\r\n            </>\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- 2. Dashboard Component (Placeholder) ---\r\n\r\nconst Dashboard = ({ onLogout }) => {\r\n  // This will eventually fetch and display user's animals and litters\r\n  const [view, setView] = useState('list'); // 'list' or 'add'\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const token = localStorage.getItem('userToken');\r\n\r\n  useEffect(() => {\r\n    // This is the protected fetch that requires the token.\r\n    const fetchUserData = async () => {\r\n      if (!token) {\r\n        setError(\"Missing authentication token.\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        // We are using /api/animals now, which is a protected route.\r\n        const response = await axios.get(`${API_BASE_URL}/animals`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        setData(response.data); // This data will be the list of animals\r\n        setError(null);\r\n      } catch (err) {\r\n        console.error(\"Dashboard Fetch Error:\", err.response?.data || err);\r\n        if (err.response?.status === 401) {\r\n            setError(\"Session expired or token invalid. Please log in again.\");\r\n            onLogout();\r\n        } else {\r\n            // Note: If the database is empty, /api/animals might return an empty array, which is fine.\r\n            // This error is for unexpected status codes or network issues.\r\n            setError(err.response?.data?.message || 'Failed to load dashboard data.');\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, [token, onLogout]); // Re-fetch if token changes\r\n\r\n  if (loading) return <div className=\"text-center p-8\"><p className=\"text-xl text-indigo-500\">Loading Dashboard...</p></div>;\r\n  \r\n  if (error) return (\r\n    <div className=\"bg-red-100 border border-red-400 text-red-700 p-4 rounded-lg shadow-md max-w-lg mx-auto\">\r\n      <p className=\"font-bold\">Error Loading Data:</p>\r\n      <p>{error}</p>\r\n      <button \r\n        onClick={onLogout}\r\n        className=\"mt-4 flex items-center text-sm bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-full transition duration-150 shadow-md\"\r\n      >\r\n        <LogOut size={16} className=\"mr-2\" /> Force Log Out\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"w-full max-w-6xl p-6 bg-white rounded-xl shadow-2xl border border-indigo-100\">\r\n      <div className=\"flex justify-between items-center border-b pb-4 mb-4\">\r\n        <h2 className=\"text-3xl font-bold text-gray-800 flex items-center\">\r\n            <Cat size={24} className=\"mr-3 text-indigo-600\" />\r\n            My Critter Registry\r\n        </h2>\r\n        <button \r\n          onClick={onLogout}\r\n          className=\"flex items-center text-sm bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-full transition duration-150 shadow-md\"\r\n        >\r\n          <LogOut size={16} className=\"mr-2\" /> Log Out\r\n        </button>\r\n      </div>\r\n\r\n      <p className=\"text-gray-500 mb-6\">\r\n        Welcome! You are successfully connected to the backend API.\r\n      </p>\r\n\r\n      {/* Placeholder for Animal List */}\r\n      <div className=\"mt-4\">\r\n        <h3 className=\"text-2xl font-semibold text-indigo-600 mb-4\">\r\n            {data?.length} Animals Registered (Placeholder Data)\r\n        </h3>\r\n        <ul className=\"space-y-3\">\r\n          {data && data.length > 0 ? (\r\n            data.map((animal) => (\r\n              <li key={animal._id} className=\"bg-gray-50 p-3 rounded-lg border border-gray-200\">\r\n                <span className=\"font-medium text-gray-700\">{animal.name}</span> \r\n                <span className=\"text-sm text-gray-500 ml-3\">({animal.gender}, ID: {animal.id_public})</span>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <p className=\"text-gray-500 italic\">You haven't added any animals yet. Time to register your first critter!</p>\r\n          )}\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- 3. Main App Component (Routing and State) ---\r\n\r\nconst App = () => {\r\n  const [userToken, setUserToken] = useState(localStorage.getItem('userToken'));\r\n  // Use state to track the current view between login/register\r\n  const [isRegisterView, setIsRegisterView] = useState(false); \r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalMessage, setModalMessage] = useState({ title: '', message: '' });\r\n\r\n  // Handle token setting (used by AuthForm on successful login)\r\n  const handleSetToken = (token) => {\r\n    setUserToken(token);\r\n    // When the token is set, it automatically triggers the Dashboard view\r\n  };\r\n\r\n  // Handle logout\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('userToken');\r\n    setUserToken(null);\r\n    setIsRegisterView(false); // Default to login view after logout\r\n  };\r\n\r\n  const renderAuthContent = () => (\r\n    <div className=\"flex flex-col items-center\">\r\n      {isRegisterView ? (\r\n        <AuthForm \r\n          isRegister={true} \r\n          setToken={handleSetToken} \r\n          setIsRegisterView={setIsRegisterView} // Pass setter to switch to login on success\r\n          setShowModal={setShowModal}\r\n          setModalMessage={setModalMessage}\r\n        />\r\n      ) : (\r\n        <AuthForm \r\n          isRegister={false} \r\n          setToken={handleSetToken} \r\n          setIsRegisterView={setIsRegisterView}\r\n          setShowModal={setShowModal}\r\n          setModalMessage={setModalMessage}\r\n        />\r\n      )}\r\n      \r\n      <button \r\n        onClick={() => setIsRegisterView(!isRegisterView)}\r\n        // Hot Pink Text Color for contrast\r\n        className=\"mt-4 text-sm font-medium flex items-center hover:text-pink-700 transition duration-150\"\r\n        style={{ color: HOT_PINK_HEX }}\r\n      >\r\n        {isRegisterView ? \r\n          <><ChevronLeft size={16} className=\"mr-1\" /> Back to Login</> \r\n          : \r\n          <><UserPlus size={16} className=\"mr-1\" /> Need an Account? Register Here</>\r\n        }\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n\r\n  return (\r\n    // Exact Pink Background\r\n    <div className=\"min-h-screen p-6 flex flex-col items-center\" style={{ backgroundColor: BG_PINK_HEX }}>\r\n      <header className=\"py-8 w-full max-w-6xl text-center\">\r\n        {/* Logo Image Path Check: This path requires the file to be in the project's public/ folder */}\r\n        <img \r\n            src=\"/crittertrack-logo-new.png\" \r\n            alt=\"CritterTrack Pedigree App Logo\" \r\n            className=\"mx-auto h-16 sm:h-20 mb-2\"\r\n        />\r\n        <p className=\"text-lg text-gray-500 mt-2\">\r\n          {userToken ? 'Welcome back!' : 'Please sign in or register to continue.'}\r\n        </p>\r\n      </header>\r\n\r\n      <main className=\"flex-grow p-4 w-full flex justify-center\">\r\n        {userToken ? (\r\n          <Dashboard onLogout={handleLogout} />\r\n        ) : (\r\n          renderAuthContent()\r\n        )}\r\n      </main>\r\n      \r\n      <footer className=\"py-4 text-sm text-gray-400 w-full text-center\">\r\n        &copy; 2024 CritterTrack Development\r\n      </footer>\r\n\r\n      {showModal && (\r\n        <ModalMessage \r\n          title={modalMessage.title} \r\n          message={modalMessage.message} \r\n          onClose={() => setShowModal(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}